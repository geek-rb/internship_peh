# Task 8. Boss Level (EXTRA)
---

Цель: освоить базовые инструменты AWS, орекстрирования и CD для конфигурации
Сеть - Все компоненты связаны друг с другом выделенными сетями когда возможно (например, "клиент" и балансировщик, балансировщик и бэкенд)
Между компонентами настроены доступ только по фиксированным портам
Архитектура приложения - Бэкенды - виртуальная машина с nginx отдающая простой файл, количество бэкендов изменяется в обе стороны динамически пропорционально нагрузке.
Балансировщик нагрузки - Клиент либо клиенты - скачивают файл с помощью ab, siege либо подобной утилиты для стресс-тестов веб-сервера
Требования к оркестрации - Всё хранится в GIT (можно поднять вручную либо использовать сторонний)
Инфраструктура описывается с помощью Terraform - Клиента и билд-систему можно настроить вручную
Изменения в инфраструктуре делает Jenkins либо Gitlab CE путём применения terraform
После изменений в GIT автоматически запускается автотест - dry run для terraform который должен подтверждать верность синтаксиса и данных для доступа
Фактические изменения применяются из билд-системы при условии успешного прохождения автотеста
Зафейленые тесты и результаты фактического деплоя отправляются по почте либо в слэк средствами AWS
Данные для доступа не могут храниться в GIT
Мониторинг и логирование
Информация о нагрузке бэкендов сохраняется
Информация количестве бэкендов сохраняется
Изменение количества бэкендов приводит к отправке уведомления (письмо, слэк и т.п.) средствами AWS

Данное задание является индивидуальным и будет засчитано как дополнительный + к общему зачету.
---

Задание выполнено не полностью.

Архитектура решения: 
 - Google Cloud
 - стэк git+jenkins+terraform
 - придерживаться принципа меньше сущностей

Что сделано:
для понимания принципов взаимодействия компонентов GCP сделал через GUI - VPC, FW, Instance templates, Instance groups + scalling, Load balancing (front: Static IP, backend:Instance groups, Health check)
реализовано, все работает.

В тераформе были написаны инструкции для разворачивания этих сервисов
VPC, FW, Instance templates, Instance groups + scalling
возникла проблема с 
Load balancing
вариант с разворачиванием всех подсервисов не удалось реализовать
вариант с модулем GoogleCloudPlatform/lb/google в процессе

git: https://github.com/geek-rb/terraform-gcp