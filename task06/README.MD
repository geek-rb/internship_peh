# Task 6: Logging&Monitoring. Big Brother.
> Мониторинг: Город засыпает просыпается ....
---

(1) Zabbix:
1. Установить на сервер - сконфигурировать веб и базу 
```
сделано 
```
---
2. Поставить на подготовленные ранее сервера или виртуалки заббикс агенты - (EXTRA: сделать это ансиблом)
---
3. Сделать несколько своих дашбородов, куда вывести данные со своих триггеров (например мониторить размер базы данных из предыдущего задания и включать алерт при любом изменении ее размера - можно спровоцировать вручную )
---
4. Active check vs passive check - применить у себя оба вида - продемонстрировать.
---
5. Сделать безагентный чек любого ресурса (ICMP ping)
---
6. Спровоцировать алерт - и создать Maintenance инструкцию 
---
7. Нарисовать дашборд с ключевыми узлами инфраструктуры и мониторингом как и хостов так и установленного на них софта
---

(2) ELK: 
Никто не забыт и ничто не забыто.

1. Установить и настроить ELK
```
screen 
```
<details>
<summary>Workflow SCREEN</summary>
<img src="./.img/task6-2-1.png" />
</details>
---
2. Организовать сбор логов из докера в ELK и получать данные от запущенных контейнеров
```
cfg and screen
test with 
docker run --log-driver=gelf --log-opt gelf-address=udp://192.168.100.54:12201 busybox     /bin/sh -c 'while true; do echo "Hello $(date)"; sleep 10; done'
```

<summary>Workflow SCREEN</summary>
<img src="./.img/task6-2-2.png" />
</details>
```
---
3. Настроить свои дашборды в ELK
---
4. EXTRA: Настроить фильтры на стороне Logstash (из поля message получить отдельные поля docker_container и docker_image)
---
5. Настроить мониторинг в ELK - получать метрики от ваших запущенных контейнеров
---
6. Посмотреть возможности и настройки

3. Grafana:
3.1 Установить Grafana интегрировать с установленным ELK
3.2 Настроить Дашборды
3.3 Посмотреть возможности и настройки